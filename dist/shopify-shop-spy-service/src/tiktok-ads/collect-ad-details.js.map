{
  "version": 3,
  "sources": ["../../../../src/tiktok-ads/collect-ad-details.ts"],
  "sourcesContent": ["import { TiktokCredentials } from '@src/types/credentials';\nimport axios from 'axios';\n\nconst TIKTOK_AD_DETAILS_URL =\n  'https://ads.tiktok.com/creative_radar_api/v1/top_ads/v2/detail?material_id=';\n\ninterface TiktokAdDetailsResponse {\n  code: number;\n  msg: string;\n  request_id: string;\n  data: {\n    ad_title: string;\n    brand_name: string;\n    comment: number;\n    cost: number;\n    country_code: string[];\n    ctr: number;\n    favorite: boolean;\n    has_summary: boolean;\n    highlight_text: string;\n    id: string;\n    industry_key: string;\n    is_search: boolean;\n    keyword_list: string[];\n    landing_page: string;\n    like: number;\n    objective_key: string;\n    objectives: {\n      label: string;\n      value: number;\n    }[];\n    pattern_label: [];\n    share: number;\n    source: string;\n    source_key: number;\n    tag: number;\n    video_info: {\n      vid: string;\n      duration: number;\n      cover: number;\n      video_url: Record<string, string>;\n      width: string;\n      height: string;\n    };\n    voice_over: boolean;\n  };\n}\n\nexport async function collectAdDetails(\n  adId: string,\n  credentials: TiktokCredentials\n) {\n  const url = `${TIKTOK_AD_DETAILS_URL}${adId}`;\n\n  const response = await axios.get(url, {\n    headers: {\n      'user-sign': credentials.userSign,\n      'web-id': credentials.webId,\n      timestamp: credentials.timestamp,\n    },\n  });\n\n  //   if (!response.data.data) {\n  //     console.error(`Error: ${response}`);\n  //     console.error(`Code: ${response.data?.code}`);\n  //     console.error(`Message: ${response.data?.msg}`);\n  //   }\n\n  const data = response.data as TiktokAdDetailsResponse;\n\n  return {\n    comments: data.data.comment,\n    shares: data.data.share,\n    landingPageUrl: data.data.landing_page,\n  };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,mBAAkB;AAElB,MAAM,wBACJ;AA4CF,eAAsB,iBACpB,MACA,aACA;AACA,QAAM,MAAM,GAAG,wBAAwB;AAEvC,QAAM,WAAW,MAAM,aAAAA,QAAM,IAAI,KAAK;AAAA,IACpC,SAAS;AAAA,MACP,aAAa,YAAY;AAAA,MACzB,UAAU,YAAY;AAAA,MACtB,WAAW,YAAY;AAAA,IACzB;AAAA,EACF,CAAC;AAQD,QAAM,OAAO,SAAS;AAEtB,SAAO;AAAA,IACL,UAAU,KAAK,KAAK;AAAA,IACpB,QAAQ,KAAK,KAAK;AAAA,IAClB,gBAAgB,KAAK,KAAK;AAAA,EAC5B;AACF;",
  "names": ["axios"]
}

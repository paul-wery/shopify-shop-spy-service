{
  "version": 3,
  "sources": ["../../../../src/shopify/index.ts"],
  "sourcesContent": ["import { getShops } from '@src/mongodb/getShops';\nimport { Range, RecurrenceRule, scheduleJob } from 'node-schedule';\nimport { spyShop } from './spyShop';\nimport { client } from '@src/mongodb/conf';\nimport { collectThemes } from './collectThemes';\n\nexport const startCollectThemes = async () => {\n  const rule = new RecurrenceRule();\n\n  rule.hour = 0;\n  rule.minute = 0;\n\n  const job = scheduleJob(rule, async () => {\n    await client.connect();\n    console.log('RUNNING startCollectThemes');\n    await collectThemes();\n  });\n\n  return job;\n};\n\nexport const startSpyShops = async () => {\n  const rule = new RecurrenceRule();\n\n  rule.second = new Range(0, 59, 60);\n\n  const job = scheduleJob(rule, async () => {\n    await client.connect();\n    console.log('RUNNING startSpyShops');\n    const shops = await getShops();\n\n    for (let index = 0; index < shops.length; index++) {\n      const shop = shops[index];\n\n      spyShop(shop);\n    }\n  });\n\n  return job;\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAyB;AACzB,2BAAmD;AACnD,qBAAwB;AACxB,kBAAuB;AACvB,2BAA8B;AAEvB,MAAM,qBAAqB,YAAY;AAC5C,QAAM,OAAO,IAAI,oCAAe;AAEhC,OAAK,OAAO;AACZ,OAAK,SAAS;AAEd,QAAM,UAAM,kCAAY,MAAM,YAAY;AACxC,UAAM,mBAAO,QAAQ;AACrB,YAAQ,IAAI,4BAA4B;AACxC,cAAM,oCAAc;AAAA,EACtB,CAAC;AAED,SAAO;AACT;AAEO,MAAM,gBAAgB,YAAY;AACvC,QAAM,OAAO,IAAI,oCAAe;AAEhC,OAAK,SAAS,IAAI,2BAAM,GAAG,IAAI,EAAE;AAEjC,QAAM,UAAM,kCAAY,MAAM,YAAY;AACxC,UAAM,mBAAO,QAAQ;AACrB,YAAQ,IAAI,uBAAuB;AACnC,UAAM,QAAQ,UAAM,0BAAS;AAE7B,aAAS,QAAQ,GAAG,QAAQ,MAAM,QAAQ,SAAS;AACjD,YAAM,OAAO,MAAM,KAAK;AAExB,kCAAQ,IAAI;AAAA,IACd;AAAA,EACF,CAAC;AAED,SAAO;AACT;",
  "names": []
}

{
  "version": 3,
  "sources": ["../../../src/main.ts"],
  "sourcesContent": ["import express from 'express';\nimport { startCollectThemes, startSpyShops } from './crons/shopify';\nimport {\n  startComputeProductsSalesAndTurnover,\n  startComputeSalesAndTurnover,\n} from './crons/database';\n\nconst host = process.env.HOST ?? 'localhost';\nconst port = process.env.PORT ? Number(process.env.PORT) : 3333;\n\nconst app = express();\n\napp.listen(port, host, () => {\n  console.info(`[ ready ] http://${host}:${port}`);\n});\n\n// startCollectThemes();\n// startSpyShops();\n// startComputeSalesAndTurnover();\nstartComputeProductsSalesAndTurnover();\n\n// async function testMaxRequest() {\n//   const loop = async () => {\n//     const start = dayjs();\n//     let requestNumber = 0;\n//     let count = 0;\n\n//     console.info('Start : ', start.format('HH:mm:ss'));\n//     while (count < 50) {\n//       try {\n//         await Promise.all([\n//           poolRequest.get(\n//             'https://magicspoon.com/products.json?page=1&limit=250'\n//           ),\n//           poolRequest.get(\n//             'https://jonesroadbeauty.com/products.json?page=1&limit=250'\n//           ),\n//           poolRequest.get(\n//             'https://theoodie.com/products.json?page=1&limit=250'\n//           ),\n//         ]);\n\n//         requestNumber++;\n//       } catch (error) {\n//         console.info(\n//           `${error.message} : ${dayjs().diff(start, 'second') + 's'}`\n//         );\n//         count = 100000;\n//         console.info('Request number : ', requestNumber);\n//       }\n//       count++;\n//     }\n//     // Waiting until the end of the minute\n//     const waitingTime = 60 - dayjs().diff(start, 'second') + 1;\n\n//     console.info('Waiting for : ', waitingTime);\n//     await new Promise((resolve) => setTimeout(resolve, waitingTime * 1000));\n//   };\n\n//   // eslint-disable-next-line no-constant-condition\n//   while (true) {\n//     await loop();\n//   }\n// }\n\n// testMaxRequest();\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;AAAA,qBAAoB;AAEpB,sBAGO;AAEP,MAAM,OAAO,QAAQ,IAAI,QAAQ;AACjC,MAAM,OAAO,QAAQ,IAAI,OAAO,OAAO,QAAQ,IAAI,IAAI,IAAI;AAE3D,MAAM,UAAM,eAAAA,SAAQ;AAEpB,IAAI,OAAO,MAAM,MAAM,MAAM;AAC3B,UAAQ,KAAK,oBAAoB,QAAQ,MAAM;AACjD,CAAC;AAAA,IAKD,sDAAqC;",
  "names": ["express"]
}
